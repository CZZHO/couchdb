{\rtf1\ansi\ansicpg936\cocoartf2513
\cocoatextscaling0\cocoaplatform0{\fonttbl\f0\fnil\fcharset0 Menlo-Bold;\f1\fnil\fcharset0 Menlo-Regular;\f2\fswiss\fcharset0 Helvetica;
\f3\fnil\fcharset0 .SFNSMono-Regular;}
{\colortbl;\red255\green255\blue255;\red13\green95\blue24;\red234\green255\blue193;\red49\green49\blue49;
\red83\green83\blue83;\red38\green38\blue38;\red0\green0\blue0;\red27\green29\blue31;\red244\green244\blue244;
}
{\*\expandedcolortbl;;\cssrgb\c0\c43922\c12549;\cssrgb\c93333\c100000\c80000;\cssrgb\c25098\c25098\c25098;
\cssrgb\c40000\c40000\c40000;\cssrgb\c20000\c20000\c20000;\csgray\c0;\cssrgb\c14118\c15294\c16078;\cssrgb\c96471\c96471\c96471;
}
\paperw11900\paperh16840\margl1440\margr1440\vieww10800\viewh8400\viewkind0
\deftab720
\pard\pardeftab720\partightenfactor0

\f0\b\fs24 \cf2 \cb3 \expnd0\expndtw0\kerning0
function
\f1\b0 \cf4 (doc) \{\
    
\f0\b \cf2 if
\f1\b0 \cf4 (doc.time \cf5 &&\cf4  doc.text) \{\
        emit(doc.time, doc.text);\
    \}\
\}\
\
\
Map function\
function(doc) \{ if(doc.date && doc.text) \{ var created = new Date(doc.date);emit([created.getFullYear(),created.getMonth()+1,created.getDate()],doc.text); \}\}\
\
\
\pard\pardeftab720\partightenfactor0
\cf6 curl -X PUT \cf4 http://
\f2\fs22 \cf7 \cb1 \kerning1\expnd0\expndtw0 \CocoaLigature0 admin:password@172.26.131.236:5984
\f1\fs24 \cf6 \cb3 \expnd0\expndtw0\kerning0
\CocoaLigature1 /melb201508/_design/my_ddoc\\\cf4 \
\cf6      -d '\{"views":\{"my_filter":\{"map":\cf4 \
\cf6          "function(doc) \{ if(doc.date && doc.text) \{ 
\f3\fs26 \cf8 \cb9 var created = new Date(doc.date);
\f1\fs24 \cf6 \cb3 emit([
\f3\fs26 \cf8 \cb9 created
\f1\fs24 \cf6 \cb3 .
\f3\fs26 \cf8 \cb9 getFullYear()
\f1\fs24 \cf6 \cb3 ,
\f3\fs26 \cf8 \cb9 created
\f1\fs24 \cf6 \cb3 .
\f3\fs26 \cf8 \cb9 getMonth()
\f1\fs24 \cf6 \cb3 ,
\f3\fs26 \cf8 \cb9 created
\f1\fs24 \cf6 \cb3 .
\f3\fs26 \cf8 \cb9 getDate()],
\f1\fs24 \cf6 \cb3 doc.text); \}\}"\}\}\}'\
\
\
curl -X PUT \cf4 http://
\f2\fs22 \cf7 \cb1 \kerning1\expnd0\expndtw0 \CocoaLigature0 admin:password@172.26.131.236:5984
\f1\fs24 \cf6 \cb3 \expnd0\expndtw0\kerning0
\CocoaLigature1 /melb2017/_design/my_ddoc\\\cf4 \
\cf6      -d '\{"views":\{"my_filter":\{"map":\cf4 \
\cf6          "
\f3\fs26 \cf8 \cb9 function(doc)\{var created = new Date(doc.date);\\\
emit([created.getFullYear(),created.getMonth()+1,created.getDate(),doc.text],doc);\
\}
\f1\fs24 \cf6 \cb3 "\}\}\}'\
\
curl -X GET http://
\f2\fs22 \cf7 \cb1 \kerning1\expnd0\expndtw0 \CocoaLigature0 admin:password@172.26.131.236:5984
\f1\fs24 \cf6 \cb3 \expnd0\expndtw0\kerning0
\CocoaLigature1 /test_json/_design/my_ddoc/_view/my_filter\
\
\
curl -X GET http://
\f2\fs22 \cf7 \cb1 \kerning1\expnd0\expndtw0 \CocoaLigature0 admin:password@172.26.131.236:5984
\f1\fs24 \cf6 \cb3 \expnd0\expndtw0\kerning0
\CocoaLigature1 /melb201508\cf4 /_design/my_ddoc/_view/datefilter?startkey=[2015,8,5]&endkey=[2015,8,7]&
\f3\fs26 \cf8 \cb9 group_level=0
\f1\fs24 \cf4 \cb3 \
\
\cf6 \
curl -X GET http://
\f2\fs22 \cf7 \cb1 \kerning1\expnd0\expndtw0 \CocoaLigature0 admin:password@172.26.131.236:5984
\f1\fs24 \cf6 \cb3 \expnd0\expndtw0\kerning0
\CocoaLigature1 /insmelb201531_84/\cf4 _design/my_ddoc/_view/my_filter?startkey="2015-03-01 08:06:53"&endkey="2015-05-01 00:00:00"\
\
\
\cf6 curl -X GET http://
\f2\fs22 \cf7 \cb1 \kerning1\expnd0\expndtw0 \CocoaLigature0 admin:password@172.26.131.236:5984
\f1\fs24 \cf6 \cb3 \expnd0\expndtw0\kerning0
\CocoaLigature1 /melb201508/_design/my_ddoc/_view/datefilter\
\
\
\
curl -X GET http://
\f2\fs22 \cf7 \cb1 \kerning1\expnd0\expndtw0 \CocoaLigature0 admin:password@172.26.131.236:5984
\f1\fs24 \cf6 \cb3 \expnd0\expndtw0\kerning0
\CocoaLigature1 /melb201508/_design/my_ddoc/_view/datefilter?key = \cf4 "\cf6 [2015,8,8]\cf4 "}